# BAEKJOON ONLINE JUDGE - 7662. 이중 우선순위 큐
* [문제출처](https://www.acmicpc.net/problem/7662 "7662. 이중 우선순위 큐")

## 알고리즘 분류
- 자료 구조
- 트리를 사용한 집합과 맵
- 우선순위 큐

## 풀이(1차)
### 접근
- `heap` 자료 구조를 수정하여 최댓값, 최솟값을 `pop`할 수 있게 설계

### 설계
- `heap` 자료 구조를 클래스로 구현한다.(최소 힙 구현)
- 클래스 메서드 `pop`을 수정한다.
- 최댓값을 추출할 때 힙의 가장 마지막 층에서 최댓값을 찾은 후 `pop`하고 가장 마지막 노드를 그 위치에 넣은 후 위치에 맞게 정렬한다.
- 테스트 케이스에서는 정답이 나오지만 시간 초과로 인해 실패

## 풀이(2차)
### 접근
- `heapq` 내장 함수를 사용하여 구현

### 설계
- 최솟값과 최댓값을 추출하기 위해 최소 힙과 최대 힙을 생성한다.
- 값을 저장할 때 최소 힙은 그대로 `heappush`하고 최대 힙은 값에 `-`를 붙여서 해준다.
- 최솟값은 최소 힙에서 최댓값은 최대 힙에서 `pop`을 해주고 `pop`을 하지 않은 다른 힙에도 반영을 해주어야하기 때문에 `remove`를 통해 값을 제거한다.
- `remove`로 인해 시간 초과가 발생하는듯 하다.

## 풀이(3차)
### 접근
- 방문 배열 생성

### 설계
- 위의 코드에서 방문 배열을 추가한다.
- 값을 저장할 때 값과 인덱스를 `tuple`로 묶어서 저장하고, 방문배열에 체크한다.
- `tuple`은 정렬할 때 가장 앞에 있는 값으로 정렬하기 때문에 힙 작동에는 문제가 생기지 않는다.
- 최솟값과 최댓값을 추출할 때 방문이 해제되어 있는 인덱스(다른 힙에서 `pop`되어 존재하지 않는 값 `visited[i]=0`)값들을 `heappop`하고 방문한 값(존재하는 값)을 만나거나 `heap`이 빌 때까지 반복한다.
- 중간에 방문한 인덱스를 만나면 방문을 해제하고(`visited[heap[0][1]]=0`) `heappop`을 한다.
- 모든 명령을 수행한 후 힙에 존재하지 않는 값들(`visited[i]=0`)을 모두 제거한다.
- 정답